<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>jjriverplot: Comprehensive River Plot and Flow Visualization • jjstatsplot</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="jjriverplot: Comprehensive River Plot and Flow Visualization">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">jjstatsplot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.32.01</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/01-introduction.html">jjStatsPlot 01: Statistical Visualization for Pathologists</a></li>
    <li><a class="dropdown-item" href="../articles/01-jamovi-user-guide.html">jamovi User Guide for ClinicoPath</a></li>
    <li><a class="dropdown-item" href="../articles/02-categorical-plots.html">Visualizing Categorical Data with Bar Charts</a></li>
    <li><a class="dropdown-item" href="../articles/03-continuous-comparisons.html">Comparing Paired Data with Within-Subject Plots</a></li>
    <li><a class="dropdown-item" href="../articles/04-continuous-comparisons-alt.html">Continuous Variable Comparisons</a></li>
    <li><a class="dropdown-item" href="../articles/05-correlations-scatterplots.html">Exploring Relationships with Scatter Plots</a></li>
    <li><a class="dropdown-item" href="../articles/06-BBC-style-data-visualization.html">BBC-Style Data Visualization - Professional News Graphics</a></li>
    <li><a class="dropdown-item" href="../articles/06-use-in-r.html">Use jjstatsplot in R</a></li>
    <li><a class="dropdown-item" href="../articles/07-advancedbarplot.html">Advanced Bar Charts - 7 Professional Approaches</a></li>
    <li><a class="dropdown-item" href="../articles/legacy/07-continuous-comparisons-legacy.html">Continuous Variable Comparisons</a></li>
    <li><a class="dropdown-item" href="../articles/08-advancedraincloud.html">Advanced Distribution Visualization with Raincloud Plots</a></li>
    <li><a class="dropdown-item" href="../articles/legacy/08-categorical-plots-legacy.html">Categorical Plot Functions</a></li>
    <li><a class="dropdown-item" href="../articles/09-advancedtree.html">Advanced Decision Tree Analysis in ClinicoPath</a></li>
    <li><a class="dropdown-item" href="../articles/09-analysis-gallery.html">Complete Analysis Gallery - All jjstatsplot Functions</a></li>
    <li><a class="dropdown-item" href="../articles/09-basegraphics.html">Base Graphics Visualization - Fast &amp; Customizable Base R Plots</a></li>
    <li><a class="dropdown-item" href="../articles/legacy/09-continuous-comparisons-legacy.html">Categorical Plot Functions</a></li>
    <li><a class="dropdown-item" href="../articles/legacy/10-correlations-scatterplots-legacy.html">Correlations and Scatter Plots</a></li>
    <li><a class="dropdown-item" href="../articles/legacy/11-introduction-legacy.html">jjstatsplot: Statistical Visualization for Clinical Research</a></li>
    <li><a class="dropdown-item" href="../articles/12-economistplots.html">Economist-Style Distribution Plots - Professional Data Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/13-quick-reference.html">jjstatsplot Plot Gallery</a></li>
    <li><a class="dropdown-item" href="../articles/14-clinical-classification-comprehensive.html">Clinical Classification Analysis with Machine Learning</a></li>
    <li><a class="dropdown-item" href="../articles/14-r-programming-guide.html">R Programming Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/15-grafify-comprehensive.html">Scientific Visualization with Grafify: Comprehensive Guide</a></li>
    <li><a class="dropdown-item" href="../articles/15-troubleshooting-faq.html">Troubleshooting Guide for ClinicoPath</a></li>
    <li><a class="dropdown-item" href="../articles/16-jcomplexupset-comprehensive.html">Complex UpSet Plot Visualization with jcomplexupset</a></li>
    <li><a class="dropdown-item" href="../articles/17-jextractggstats-comprehensive.html">Statistical Data Extraction from ggstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/legacy/18-analysis-gallery-legacy.html">Complete Analysis Gallery - All jjstatsplot Functions</a></li>
    <li><a class="dropdown-item" href="../articles/18-jforester-comprehensive.html">Forest Plot Visualization with jforester</a></li>
    <li><a class="dropdown-item" href="../articles/19-jforestmodel-comprehensive.html">Visualizing Regression Models with Forest Plots</a></li>
    <li><a class="dropdown-item" href="../articles/20-jggheatmap-comprehensive.html">Advanced Heatmap Visualization with jggheatmap</a></li>
    <li><a class="dropdown-item" href="../articles/21-jggridges-comprehensive.html">Ridge Plot Visualization with jggridges</a></li>
    <li><a class="dropdown-item" href="../articles/22-jggsankeyfier-comprehensive.html">Comprehensive Guide to Sankey &amp; Alluvial Diagrams with jggsankeyfier</a></li>
    <li><a class="dropdown-item" href="../articles/22-jjsankeyfier-comprehensive.html">Comprehensive Guide to Sankey &amp; Alluvial Diagrams with jjsankeyfier</a></li>
    <li><a class="dropdown-item" href="../articles/23-jggstats-comprehensive.html">Comprehensive Guide to Enhanced Statistical Visualization with jggstats</a></li>
    <li><a class="dropdown-item" href="../articles/23-jjbarstats-comprehensive.html">Comprehensive Bar Chart Analysis with jjbarstats</a></li>
    <li><a class="dropdown-item" href="../articles/legacy/24-jamovi-user-guide-legacy.html">Complete jamovi User Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/24-jjarcdiagram-comprehensive.html">Network Visualization with jjarcdiagram</a></li>
    <li><a class="dropdown-item" href="../articles/24-jjbetweenstats-comprehensive.html">High-Performance Violin Plot Analysis with jjbetweenstats</a></li>
    <li><a class="dropdown-item" href="../articles/25-jjcorrmat-comprehensive.html">jjcorrmat: Comprehensive Correlation Matrix Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/26-jjdotplotstats-comprehensive.html">jjdotplotstats: Comprehensive Dot Plot Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/27-jjhistostats-comprehensive.html">jjhistostats: Comprehensive Histogram Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/28-jjpiestats-comprehensive.html">jjpiestats: Pie Charts with Performance Optimization and Visualization Best Practices</a></li>
    <li><a class="dropdown-item" href="../articles/29-jjridges-comprehensive.html">jjridges: Comprehensive Ridgeline Plot Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/29-jjridgestats-comprehensive.html">jjridgestats: Comprehensive Ridgeline Plot Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/legacy/29-quick-reference-legacy.html">Quick Reference Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/30-jjriverplot-comprehensive.html">jjriverplot: Comprehensive River Plot and Flow Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/30-linechart-comprehensive.html">Line Charts for Clinical Time Series and Trend Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/legacy/30-r-programming-guide-legacy.html">R Programming Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/31-jjscatterstats-comprehensive.html">UNKNOWN TITLE</a></li>
    <li><a class="dropdown-item" href="../articles/31-jpps-comprehensive.html">Predictive Power Score (PPS) Analysis with jpps</a></li>
    <li><a class="dropdown-item" href="../articles/31-jscattermore-comprehensive.html">High-Performance Scatter Plots with jscattermore</a></li>
    <li><a class="dropdown-item" href="../articles/31-lollipop-comprehensive.html">Lollipop Charts for Clinical Categorical Data Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/legacy/31-troubleshooting-faq-legacy.html">Troubleshooting Guide and FAQ for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/32-jjstreamgraph-comprehensive.html">jjstreamgraph: Comprehensive Interactive Stream Graph Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/32-jsjplot-comprehensive.html">Social Science Statistical Visualization with jsjplot</a></li>
    <li><a class="dropdown-item" href="../articles/33-jjtreemap-comprehensive.html">jjtreemap: Comprehensive Treemap Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/33-jsummarytools-comprehensive.html">Comprehensive Descriptive Statistics with jsummarytools</a></li>
    <li><a class="dropdown-item" href="../articles/34-jjwithinstats-comprehensive.html">jjwithinstats: Comprehensive Within-Subjects Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/34-jviolin-comprehensive.html">Professional Violin Plots with jviolin</a></li>
    <li><a class="dropdown-item" href="../articles/35-jvisr-comprehensive.html">Clinical Research Visualization with jvisr</a></li>
    <li><a class="dropdown-item" href="../articles/36-jwaffle-comprehensive.html">Professional Waffle Charts with jwaffle</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-01-oncodatasets-examples.html">jjstatsplot: Statistical Visualization with Oncology Data</a></li>
    <li><a class="dropdown-item" href="../articles/use-jjstatsplot-in-R.html">Use jjstatsplot in R</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sbalci/ClinicoPathJamoviModule/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>jjriverplot: Comprehensive River Plot and Flow Visualization</h1>
                        <h4 data-toc-skip class="author">ClinicoPath</h4>
            
            <h4 data-toc-skip class="date">2025-10-09</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sbalci/ClinicoPathJamoviModule/blob/HEAD/vignettes/30-jjriverplot-comprehensive.Rmd" class="external-link"><code>vignettes/30-jjriverplot-comprehensive.Rmd</code></a></small>
      <div class="d-none name"><code>30-jjriverplot-comprehensive.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The <code>jjriverplot</code> function provides a comprehensive
interface for creating river plots (alluvial diagrams), Sankey diagrams,
and stream graphs to visualize flows, transitions, and pathways over
time or between categories. This function is built on
<code>ggplot2</code> and <code>ggalluvial</code>, offering multiple
visualization styles with performance optimization through internal
caching.</p>
</div>
<div class="section level2">
<h2 id="key-features">Key Features<a class="anchor" aria-label="anchor" href="#key-features"></a>
</h2>
<ul>
<li>
<strong>Multiple plot types</strong>: Alluvial diagrams, Sankey
diagrams, and stream graphs</li>
<li>
<strong>Flexible data formats</strong>: Supports both longitudinal
(long) and cross-sectional (wide) data</li>
<li>
<strong>Weight integration</strong>: Stream widths can represent
quantities like costs, counts, or frequencies</li>
<li>
<strong>Rich customization</strong>: Fill patterns, curve types,
labeling options, and themes</li>
<li>
<strong>Performance optimized</strong>: Uses internal caching to
eliminate redundant computations</li>
<li>
<strong>Clinical research ready</strong>: Designed for patient
pathway and treatment flow analysis</li>
</ul>
</div>
<div class="section level2">
<h2 id="when-to-use-river-plots">When to Use River Plots<a class="anchor" aria-label="anchor" href="#when-to-use-river-plots"></a>
</h2>
<p>River plots excel at visualizing:</p>
<ul>
<li>
<strong>Patient treatment pathways</strong>: Response changes over
time</li>
<li>
<strong>Customer journey analysis</strong>: Funnel progression and
conversion flows</li>
<li>
<strong>Educational progressions</strong>: Student performance
tracking through stages</li>
<li>
<strong>Process flows</strong>: Manufacturing, approval, or workflow
stages</li>
<li>
<strong>Market transitions</strong>: Brand switching, category
migration</li>
<li>
<strong>Longitudinal studies</strong>: Any categorical changes over
time</li>
</ul>
</div>
<div class="section level2">
<h2 id="installation-and-setup">Installation and Setup<a class="anchor" aria-label="anchor" href="#installation-and-setup"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install ClinicoPath if not already installed</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sbalci/jjstatsplot" class="external-link">jjstatsplot</a></span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sbalci/jjstatsplot" class="external-link">jjstatsplot</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<div class="section level3">
<h3 id="basic-alluvial-plot-longitudinal-data">Basic Alluvial Plot (Longitudinal Data)<a class="anchor" aria-label="anchor" href="#basic-alluvial-plot-longitudinal-data"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load test data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">jjriverplot_test_data_long</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Basic treatment response flow over time</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">jjriverplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">jjriverplot_test_data_long</span>,</span>
<span>  time <span class="op">=</span> <span class="st">"timepoint"</span>,</span>
<span>  strata <span class="op">=</span> <span class="st">"treatment_response"</span>,</span>
<span>  plotType <span class="op">=</span> <span class="st">"alluvial"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the plot</span></span>
<span><span class="va">result</span><span class="op">$</span><span class="va">plot</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="weighted-river-plot">Weighted River Plot<a class="anchor" aria-label="anchor" href="#weighted-river-plot"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># River plot with treatment costs as weights</span></span>
<span><span class="va">result_weighted</span> <span class="op">&lt;-</span> <span class="fu">jjriverplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">jjriverplot_test_data_long</span>,</span>
<span>  time <span class="op">=</span> <span class="st">"timepoint"</span>,</span>
<span>  strata <span class="op">=</span> <span class="st">"treatment_response"</span>,</span>
<span>  weight <span class="op">=</span> <span class="st">"treatment_cost"</span>,</span>
<span>  plotType <span class="op">=</span> <span class="st">"alluvial"</span>,</span>
<span>  labelNodes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  showCounts <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the plot</span></span>
<span><span class="va">result_weighted</span><span class="op">$</span><span class="va">plot</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multi-stage-pathway-wide-format">Multi-Stage Pathway (Wide Format)<a class="anchor" aria-label="anchor" href="#multi-stage-pathway-wide-format"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load wide format data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">jjriverplot_test_data_wide</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Multi-stage treatment pathway</span></span>
<span><span class="va">result_pathway</span> <span class="op">&lt;-</span> <span class="fu">jjriverplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">jjriverplot_test_data_wide</span>,</span>
<span>  strata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"month3_response"</span>, <span class="st">"month6_response"</span>, <span class="st">"month12_response"</span><span class="op">)</span>,</span>
<span>  plotType <span class="op">=</span> <span class="st">"sankey"</span>,</span>
<span>  fillType <span class="op">=</span> <span class="st">"first"</span>,</span>
<span>  mytitle <span class="op">=</span> <span class="st">"Treatment Response Pathway"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the plot</span></span>
<span><span class="va">result_pathway</span><span class="op">$</span><span class="va">plot</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="function-parameters">Function Parameters<a class="anchor" aria-label="anchor" href="#function-parameters"></a>
</h2>
<div class="section level3">
<h3 id="core-parameters">Core Parameters<a class="anchor" aria-label="anchor" href="#core-parameters"></a>
</h3>
<ul>
<li>
<strong><code>data</code></strong>: Input data frame containing
variables to analyze</li>
<li>
<strong><code>time</code></strong>: Time or sequence variable (for
longitudinal data)</li>
<li>
<strong><code>strata</code></strong>: Categorical variables
representing flow categories</li>
<li>
<strong><code>weight</code></strong>: Optional numeric variable for
stream width weighting</li>
<li>
<strong><code>id</code></strong>: Optional identifier for tracking
individual entities</li>
</ul>
</div>
<div class="section level3">
<h3 id="plot-types">Plot Types<a class="anchor" aria-label="anchor" href="#plot-types"></a>
</h3>
<div class="section level4">
<h4 id="alluvial-diagrams">Alluvial Diagrams<a class="anchor" aria-label="anchor" href="#alluvial-diagrams"></a>
</h4>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Alluvial plots show flowing streams between time points</span></span>
<span><span class="co"># - Curved connections emphasize continuity</span></span>
<span><span class="co"># - Stream width represents frequency or quantity</span></span>
<span><span class="co"># - Good for tracking changes in categorical variables over time</span></span></code></pre></div>
<p>Best for: - <strong>Longitudinal studies</strong>: Patient outcomes
over treatment periods - <strong>Cohort tracking</strong>: Changes in
group membership over time - <strong>Transition analysis</strong>:
Movement between categories</p>
</div>
<div class="section level4">
<h4 id="sankey-diagrams">Sankey Diagrams<a class="anchor" aria-label="anchor" href="#sankey-diagrams"></a>
</h4>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Sankey diagrams show directed flows between stages</span></span>
<span><span class="co"># - Straighter connections emphasize flow direction</span></span>
<span><span class="co"># - Node width represents total flow through that stage</span></span>
<span><span class="co"># - Good for process flows and sequential decision points</span></span></code></pre></div>
<p>Best for: - <strong>Process analysis</strong>: Manufacturing or
approval workflows - <strong>Resource allocation</strong>: Budget flows,
staff assignments - <strong>Multi-stage conversions</strong>: Sales
funnels, patient triage</p>
</div>
<div class="section level4">
<h4 id="stream-graphs">Stream Graphs<a class="anchor" aria-label="anchor" href="#stream-graphs"></a>
</h4>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Stream graphs show stacked area plots over time</span></span>
<span><span class="co"># - Shows composition changes continuously</span></span>
<span><span class="co"># - Total height represents overall volume</span></span>
<span><span class="co"># - Good for showing relative proportions over time</span></span></code></pre></div>
<p>Best for: - <strong>Composition analysis</strong>: Market share
changes over time - <strong>Population studies</strong>: Demographic
changes - <strong>Portfolio analysis</strong>: Investment allocations
over time</p>
</div>
</div>
<div class="section level3">
<h3 id="customization-options">Customization Options<a class="anchor" aria-label="anchor" href="#customization-options"></a>
</h3>
<div class="section level4">
<h4 id="fill-patterns">Fill Patterns<a class="anchor" aria-label="anchor" href="#fill-patterns"></a>
</h4>
<ul>
<li>
<strong>“first”</strong>: Colors based on initial category (track
origins)</li>
<li>
<strong>“last”</strong>: Colors based on final category (track
destinations)<br>
</li>
<li>
<strong>“frequency”</strong>: Colors based on flow volume (emphasize
major flows)</li>
</ul>
</div>
<div class="section level4">
<h4 id="curve-types">Curve Types<a class="anchor" aria-label="anchor" href="#curve-types"></a>
</h4>
<ul>
<li>
<strong>“cardinal”</strong>: Smooth flowing curves (most
aesthetic)</li>
<li>
<strong>“linear”</strong>: Straight connections (clearest
direction)</li>
<li>
<strong>“basis”</strong>: Very smooth curves (artistic)</li>
<li>
<strong>“step”</strong>: Stepped connections (discrete
processes)</li>
</ul>
</div>
</div>
</div>
<div class="section level2">
<h2 id="performance-optimizations">Performance Optimizations<a class="anchor" aria-label="anchor" href="#performance-optimizations"></a>
</h2>
<div class="section level3">
<h3 id="caching-implementation">Caching Implementation<a class="anchor" aria-label="anchor" href="#caching-implementation"></a>
</h3>
<p>The function includes significant performance optimizations:</p>
<p><strong>Previous Issues:</strong> - Redundant data processing in plot
method - Repeated factor conversion operations - Multiple
jmvcore::naOmit() calls - Complex option processing repeated</p>
<p><strong>Current Optimizations:</strong> - <strong>Data
Caching</strong>: Uses <code>.prepareData()</code> method to cache
processed data - <strong>Options Caching</strong>: Uses
<code>.prepareOptions()</code> method to cache option processing -
<strong>Factor Conversion</strong>: Variables converted once and cached
- <strong>Progress Feedback</strong>: Clear user messaging during
processing</p>
</div>
<div class="section level3">
<h3 id="performance-benefits">Performance Benefits<a class="anchor" aria-label="anchor" href="#performance-benefits"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># The optimized version provides:</span></span>
<span><span class="co"># - Faster processing for large datasets</span></span>
<span><span class="co"># - Reduced memory usage through single data processing</span></span>
<span><span class="co"># - Better user experience with progress indicators</span></span>
<span><span class="co"># - Consistent data handling across plot variations</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="advanced-usage-examples">Advanced Usage Examples<a class="anchor" aria-label="anchor" href="#advanced-usage-examples"></a>
</h2>
<div class="section level3">
<h3 id="clinical-trial-analysis">Clinical Trial Analysis<a class="anchor" aria-label="anchor" href="#clinical-trial-analysis"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Treatment response progression over time</span></span>
<span><span class="va">clinical_pathway</span> <span class="op">&lt;-</span> <span class="fu">jjriverplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">jjriverplot_test_data_long</span>,</span>
<span>  time <span class="op">=</span> <span class="st">"timepoint"</span>,</span>
<span>  strata <span class="op">=</span> <span class="st">"treatment_response"</span>,</span>
<span>  weight <span class="op">=</span> <span class="st">"treatment_cost"</span>,</span>
<span>  plotType <span class="op">=</span> <span class="st">"alluvial"</span>,</span>
<span>  fillType <span class="op">=</span> <span class="st">"first"</span>,</span>
<span>  labelNodes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  mytitle <span class="op">=</span> <span class="st">"Patient Treatment Response Pathways"</span>,</span>
<span>  xtitle <span class="op">=</span> <span class="st">"Study Timepoint"</span>,</span>
<span>  ytitle <span class="op">=</span> <span class="st">"Treatment Cost ($)"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># This reveals:</span></span>
<span><span class="co"># - How patient responses change over time</span></span>
<span><span class="co"># - Cost implications of different response patterns</span></span>
<span><span class="co"># - Treatment effectiveness across timepoints</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="quality-of-life-progression">Quality of Life Progression<a class="anchor" aria-label="anchor" href="#quality-of-life-progression"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Quality of life changes alongside treatment response</span></span>
<span><span class="va">qol_flow</span> <span class="op">&lt;-</span> <span class="fu">jjriverplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">jjriverplot_test_data_long</span>,</span>
<span>  time <span class="op">=</span> <span class="st">"timepoint"</span>, </span>
<span>  strata <span class="op">=</span> <span class="st">"quality_of_life"</span>,</span>
<span>  plotType <span class="op">=</span> <span class="st">"alluvial"</span>,</span>
<span>  fillType <span class="op">=</span> <span class="st">"last"</span>,</span>
<span>  curveType <span class="op">=</span> <span class="st">"cardinal"</span>,</span>
<span>  mytitle <span class="op">=</span> <span class="st">"Quality of Life Progression"</span>,</span>
<span>  xtitle <span class="op">=</span> <span class="st">"Study Period"</span>,</span>
<span>  ytitle <span class="op">=</span> <span class="st">"Patient Count"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># This shows:</span></span>
<span><span class="co"># - Patient quality of life trajectories</span></span>
<span><span class="co"># - Correlation with treatment responses</span></span>
<span><span class="co"># - Long-term outcome patterns</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="treatment-arm-comparison">Treatment Arm Comparison<a class="anchor" aria-label="anchor" href="#treatment-arm-comparison"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compare pathways by treatment arm using wide format</span></span>
<span><span class="va">treatment_comparison</span> <span class="op">&lt;-</span> <span class="fu">jjriverplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">jjriverplot_test_data_wide</span>,</span>
<span>  strata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"month3_response"</span>, <span class="st">"month6_response"</span>, <span class="st">"month12_response"</span><span class="op">)</span>,</span>
<span>  plotType <span class="op">=</span> <span class="st">"sankey"</span>,</span>
<span>  fillType <span class="op">=</span> <span class="st">"first"</span>,</span>
<span>  showCounts <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  mytitle <span class="op">=</span> <span class="st">"Treatment Response Progression by Stage"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter by treatment arm for separate analysis</span></span>
<span><span class="va">control_data</span> <span class="op">&lt;-</span> <span class="va">jjriverplot_test_data_wide</span><span class="op">[</span></span>
<span>  <span class="va">jjriverplot_test_data_wide</span><span class="op">$</span><span class="va">treatment_arm</span> <span class="op">==</span> <span class="st">"Control"</span>, <span class="op">]</span></span>
<span></span>
<span><span class="va">control_pathway</span> <span class="op">&lt;-</span> <span class="fu">jjriverplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">control_data</span>,</span>
<span>  strata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"month3_response"</span>, <span class="st">"month6_response"</span>, <span class="st">"month12_response"</span><span class="op">)</span>,</span>
<span>  plotType <span class="op">=</span> <span class="st">"sankey"</span>,</span>
<span>  mytitle <span class="op">=</span> <span class="st">"Control Group Response Pathway"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="educational-journey-analysis">Educational Journey Analysis<a class="anchor" aria-label="anchor" href="#educational-journey-analysis"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load education data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">jjriverplot_education_data</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Student performance progression</span></span>
<span><span class="va">education_flow</span> <span class="op">&lt;-</span> <span class="fu">jjriverplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">jjriverplot_education_data</span>,</span>
<span>  strata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"year1_performance"</span>, <span class="st">"year2_performance"</span>, </span>
<span>             <span class="st">"year3_performance"</span>, <span class="st">"final_outcome"</span><span class="op">)</span>,</span>
<span>  plotType <span class="op">=</span> <span class="st">"alluvial"</span>,</span>
<span>  fillType <span class="op">=</span> <span class="st">"last"</span>,</span>
<span>  labelNodes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  mytitle <span class="op">=</span> <span class="st">"Student Academic Progression"</span>,</span>
<span>  xtitle <span class="op">=</span> <span class="st">"Academic Year"</span>,</span>
<span>  ytitle <span class="op">=</span> <span class="st">"Student Count"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># This reveals:</span></span>
<span><span class="co"># - Academic performance trajectories</span></span>
<span><span class="co"># - Points of student attrition</span></span>
<span><span class="co"># - Success pathway identification</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="marketing-funnel-analysis">Marketing Funnel Analysis<a class="anchor" aria-label="anchor" href="#marketing-funnel-analysis"></a>
</h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load marketing data  </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">jjriverplot_marketing_data</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Customer journey through marketing funnel</span></span>
<span><span class="va">marketing_funnel</span> <span class="op">&lt;-</span> <span class="fu">jjriverplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">jjriverplot_marketing_data</span>,</span>
<span>  strata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"awareness"</span>, <span class="st">"interest"</span>, <span class="st">"consideration"</span>, </span>
<span>             <span class="st">"purchase"</span>, <span class="st">"loyalty"</span><span class="op">)</span>,</span>
<span>  weight <span class="op">=</span> <span class="st">"purchase_value"</span>,</span>
<span>  plotType <span class="op">=</span> <span class="st">"sankey"</span>,</span>
<span>  fillType <span class="op">=</span> <span class="st">"last"</span>,</span>
<span>  showCounts <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  mytitle <span class="op">=</span> <span class="st">"Customer Journey Analysis"</span>,</span>
<span>  xtitle <span class="op">=</span> <span class="st">"Funnel Stage"</span>,</span>
<span>  ytitle <span class="op">=</span> <span class="st">"Customer Value ($)"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># This shows:</span></span>
<span><span class="co"># - Conversion rates between stages</span></span>
<span><span class="co"># - Value-weighted customer flows</span></span>
<span><span class="co"># - Drop-off points in the funnel</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multi-site-quality-control">Multi-Site Quality Control<a class="anchor" aria-label="anchor" href="#multi-site-quality-control"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Analyze treatment consistency across hospital centers</span></span>
<span><span class="va">site_analysis</span> <span class="op">&lt;-</span> <span class="fu">jjriverplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">jjriverplot_test_data_long</span>,</span>
<span>  time <span class="op">=</span> <span class="st">"timepoint"</span>,</span>
<span>  strata <span class="op">=</span> <span class="st">"treatment_response"</span>,</span>
<span>  plotType <span class="op">=</span> <span class="st">"alluvial"</span>,</span>
<span>  fillType <span class="op">=</span> <span class="st">"first"</span>,</span>
<span>  mytitle <span class="op">=</span> <span class="st">"Treatment Response Patterns Across All Sites"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compare specific high-performing vs low-performing sites</span></span>
<span><span class="va">high_performing_sites</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Center_A"</span>, <span class="st">"Center_B"</span><span class="op">)</span></span>
<span><span class="va">site_subset</span> <span class="op">&lt;-</span> <span class="va">jjriverplot_test_data_long</span><span class="op">[</span></span>
<span>  <span class="va">jjriverplot_test_data_long</span><span class="op">$</span><span class="va">hospital_center</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">high_performing_sites</span>, <span class="op">]</span></span>
<span></span>
<span><span class="va">site_comparison</span> <span class="op">&lt;-</span> <span class="fu">jjriverplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">site_subset</span>,</span>
<span>  time <span class="op">=</span> <span class="st">"timepoint"</span>,</span>
<span>  strata <span class="op">=</span> <span class="st">"treatment_response"</span>,</span>
<span>  weight <span class="op">=</span> <span class="st">"treatment_cost"</span>,</span>
<span>  plotType <span class="op">=</span> <span class="st">"alluvial"</span>,</span>
<span>  mytitle <span class="op">=</span> <span class="st">"High-Performing Sites: Treatment Pathways"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="data-requirements">Data Requirements<a class="anchor" aria-label="anchor" href="#data-requirements"></a>
</h2>
<div class="section level3">
<h3 id="data-formats">Data Formats<a class="anchor" aria-label="anchor" href="#data-formats"></a>
</h3>
<div class="section level4">
<h4 id="long-format-longitudinal-data">Long Format (Longitudinal Data)<a class="anchor" aria-label="anchor" href="#long-format-longitudinal-data"></a>
</h4>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Structure for longitudinal river plots</span></span>
<span><span class="co"># Required columns:</span></span>
<span><span class="co"># - time: factor with ordered levels (e.g., "Baseline", "Month_3", "Month_6")</span></span>
<span><span class="co"># - strata: factor with category levels (e.g., "Complete_Response", "Partial_Response")</span></span>
<span><span class="co"># - Optional: weight (numeric), id (factor)</span></span>
<span></span>
<span><span class="va">example_long</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  patient_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"P001"</span>, <span class="st">"P002"</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>  timepoint <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"T1"</span>, <span class="st">"T2"</span>, <span class="st">"T3"</span><span class="op">)</span>, times <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  response <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Good"</span>, <span class="st">"Good"</span>, <span class="st">"Excellent"</span>, </span>
<span>                     <span class="st">"Poor"</span>, <span class="st">"Fair"</span>, <span class="st">"Good"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  cost <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">1200</span>, <span class="fl">800</span>, <span class="fl">1500</span>, <span class="fl">1300</span>, <span class="fl">1100</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="wide-format-cross-sectional-stages">Wide Format (Cross-Sectional Stages)<a class="anchor" aria-label="anchor" href="#wide-format-cross-sectional-stages"></a>
</h4>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Structure for multi-stage river plots</span></span>
<span><span class="co"># Required: multiple strata variables representing sequential stages</span></span>
<span><span class="co"># Optional: weight variable, demographic variables</span></span>
<span></span>
<span><span class="va">example_wide</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"ID"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span>,</span>
<span>  stage1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>, <span class="fl">100</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  stage2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X"</span>, <span class="st">"Y"</span>, <span class="st">"Z"</span><span class="op">)</span>, <span class="fl">100</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  stage3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Success"</span>, <span class="st">"Failure"</span><span class="op">)</span>, <span class="fl">100</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  total_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">1000</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="data-quality-requirements">Data Quality Requirements<a class="anchor" aria-label="anchor" href="#data-quality-requirements"></a>
</h3>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># For optimal river plots:</span></span>
<span><span class="co"># 1. Adequate sample sizes (n &gt; 50 recommended)</span></span>
<span><span class="co"># 2. Reasonable number of categories (2-8 per variable)</span></span>
<span><span class="co"># 3. Meaningful category names (not just codes)</span></span>
<span><span class="co"># 4. Proper factor ordering for time variables</span></span>
<span><span class="co"># 5. Complete cases (missing values are excluded)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="best-practices">Best Practices<a class="anchor" aria-label="anchor" href="#best-practices"></a>
</h2>
<div class="section level3">
<h3 id="plot-type-selection">Plot Type Selection<a class="anchor" aria-label="anchor" href="#plot-type-selection"></a>
</h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use Alluvial plots when:</span></span>
<span><span class="co"># - Tracking changes over time</span></span>
<span><span class="co"># - Emphasizing flow continuity</span></span>
<span><span class="co"># - Showing patient/customer journeys</span></span>
<span><span class="co"># - Time points are clearly defined</span></span>
<span></span>
<span><span class="co"># Use Sankey diagrams when:  </span></span>
<span><span class="co"># - Analyzing process flows</span></span>
<span><span class="co"># - Emphasizing directed flows</span></span>
<span><span class="co"># - Decision tree visualization</span></span>
<span><span class="co"># - Resource allocation analysis</span></span>
<span></span>
<span><span class="co"># Use Stream graphs when:</span></span>
<span><span class="co"># - Showing composition over time</span></span>
<span><span class="co"># - Continuous time variable</span></span>
<span><span class="co"># - Relative proportions important</span></span>
<span><span class="co"># - Market share analysis</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="color-and-fill-strategy">Color and Fill Strategy<a class="anchor" aria-label="anchor" href="#color-and-fill-strategy"></a>
</h3>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># fillType selection:</span></span>
<span><span class="co"># - "first": Track where flows originated (good for source analysis)</span></span>
<span><span class="co"># - "last": Track where flows end up (good for outcome analysis)  </span></span>
<span><span class="co"># - "frequency": Emphasize major flows (good for identifying patterns)</span></span>
<span></span>
<span><span class="co"># Examples:</span></span>
<span><span class="co"># Treatment analysis: use "first" to track initial response groups</span></span>
<span><span class="co"># Outcome analysis: use "last" to track final outcomes</span></span>
<span><span class="co"># Process optimization: use "frequency" to identify bottlenecks</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="labeling-and-clarity">Labeling and Clarity<a class="anchor" aria-label="anchor" href="#labeling-and-clarity"></a>
</h3>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># For clear river plots:</span></span>
<span><span class="co"># 1. Use meaningful variable names and category labels</span></span>
<span><span class="co"># 2. Enable node labels for interpretation (labelNodes = TRUE)</span></span>
<span><span class="co"># 3. Show counts for quantitative analysis (showCounts = TRUE)</span></span>
<span><span class="co"># 4. Provide clear axis labels and titles</span></span>
<span><span class="co"># 5. Consider legend positioning based on plot complexity</span></span>
<span></span>
<span><span class="co"># Avoid overwhelming plots:</span></span>
<span><span class="co"># - Limit to 6-8 categories per variable</span></span>
<span><span class="co"># - Combine rare categories when appropriate</span></span>
<span><span class="co"># - Use clear, contrasting colors</span></span>
<span><span class="co"># - Consider split plots for complex data</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="advanced-techniques">Advanced Techniques<a class="anchor" aria-label="anchor" href="#advanced-techniques"></a>
</h2>
<div class="section level3">
<h3 id="subset-analysis">Subset Analysis<a class="anchor" aria-label="anchor" href="#subset-analysis"></a>
</h3>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Analyze specific subgroups for detailed insights</span></span>
<span><span class="co"># Example: High-cost patients only</span></span>
<span><span class="va">high_cost_patients</span> <span class="op">&lt;-</span> <span class="va">jjriverplot_test_data_long</span><span class="op">[</span></span>
<span>  <span class="va">jjriverplot_test_data_long</span><span class="op">$</span><span class="va">treatment_cost</span> <span class="op">&gt;</span> <span class="fl">5000</span>, <span class="op">]</span></span>
<span></span>
<span><span class="va">high_cost_analysis</span> <span class="op">&lt;-</span> <span class="fu">jjriverplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">high_cost_patients</span>,</span>
<span>  time <span class="op">=</span> <span class="st">"timepoint"</span>,</span>
<span>  strata <span class="op">=</span> <span class="st">"treatment_response"</span>,</span>
<span>  weight <span class="op">=</span> <span class="st">"treatment_cost"</span>,</span>
<span>  plotType <span class="op">=</span> <span class="st">"alluvial"</span>,</span>
<span>  mytitle <span class="op">=</span> <span class="st">"High-Cost Patient Pathways"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Example: By demographic groups</span></span>
<span><span class="va">elderly_patients</span> <span class="op">&lt;-</span> <span class="va">jjriverplot_test_data_long</span><span class="op">[</span></span>
<span>  <span class="va">jjriverplot_test_data_long</span><span class="op">$</span><span class="va">age_group</span> <span class="op">==</span> <span class="st">"75+"</span>, <span class="op">]</span></span>
<span></span>
<span><span class="va">elderly_analysis</span> <span class="op">&lt;-</span> <span class="fu">jjriverplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">elderly_patients</span>,</span>
<span>  time <span class="op">=</span> <span class="st">"timepoint"</span>, </span>
<span>  strata <span class="op">=</span> <span class="st">"treatment_response"</span>,</span>
<span>  plotType <span class="op">=</span> <span class="st">"alluvial"</span>,</span>
<span>  mytitle <span class="op">=</span> <span class="st">"Elderly Patient Treatment Pathways"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="comparative-analysis">Comparative Analysis<a class="anchor" aria-label="anchor" href="#comparative-analysis"></a>
</h3>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compare different treatments side by side</span></span>
<span><span class="va">treatment_groups</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Treatment_A"</span>, <span class="st">"Treatment_B"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">treatment</span> <span class="kw">in</span> <span class="va">treatment_groups</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">subset_data</span> <span class="op">&lt;-</span> <span class="va">jjriverplot_test_data_long</span><span class="op">[</span></span>
<span>    <span class="va">jjriverplot_test_data_long</span><span class="op">$</span><span class="va">treatment_arm</span> <span class="op">==</span> <span class="va">treatment</span>, <span class="op">]</span></span>
<span>  </span>
<span>  <span class="va">plot_result</span> <span class="op">&lt;-</span> <span class="fu">jjriverplot</span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">subset_data</span>,</span>
<span>    time <span class="op">=</span> <span class="st">"timepoint"</span>,</span>
<span>    strata <span class="op">=</span> <span class="st">"treatment_response"</span>, </span>
<span>    plotType <span class="op">=</span> <span class="st">"alluvial"</span>,</span>
<span>    mytitle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Pathways for"</span>, <span class="va">treatment</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Save or display each plot</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">plot_result</span><span class="op">$</span><span class="va">plot</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="quality-control-applications">Quality Control Applications<a class="anchor" aria-label="anchor" href="#quality-control-applications"></a>
</h3>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Multi-center consistency analysis</span></span>
<span><span class="va">center_comparison</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">center_id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">center_data</span> <span class="op">&lt;-</span> <span class="va">jjriverplot_test_data_long</span><span class="op">[</span></span>
<span>    <span class="va">jjriverplot_test_data_long</span><span class="op">$</span><span class="va">hospital_center</span> <span class="op">==</span> <span class="va">center_id</span>, <span class="op">]</span></span>
<span>  </span>
<span>  <span class="fu">jjriverplot</span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">center_data</span>,</span>
<span>    time <span class="op">=</span> <span class="st">"timepoint"</span>,</span>
<span>    strata <span class="op">=</span> <span class="st">"treatment_response"</span>,</span>
<span>    plotType <span class="op">=</span> <span class="st">"alluvial"</span>,</span>
<span>    mytitle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Treatment Patterns -"</span>, <span class="va">center_id</span><span class="op">)</span>,</span>
<span>    labelNodes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    showCounts <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Analyze each center</span></span>
<span><span class="va">centers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">jjriverplot_test_data_long</span><span class="op">$</span><span class="va">hospital_center</span><span class="op">)</span></span>
<span><span class="va">center_plots</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">centers</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, <span class="va">center_comparison</span><span class="op">)</span>  <span class="co"># First 3 centers</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="technical-details">Technical Details<a class="anchor" aria-label="anchor" href="#technical-details"></a>
</h2>
<div class="section level3">
<h3 id="underlying-functions">Underlying Functions<a class="anchor" aria-label="anchor" href="#underlying-functions"></a>
</h3>
<p>The <code>jjriverplot</code> function is built on:</p>
<ul>
<li>
<strong>ggplot2</strong>: Core plotting framework</li>
<li>
<strong>ggalluvial</strong>: Specialized alluvial diagram
geometries</li>
<li>
<strong>dplyr</strong>: Data manipulation for aggregation</li>
<li>
<strong>jmvcore</strong>: Data handling and option processing</li>
</ul>
</div>
<div class="section level3">
<h3 id="caching-details">Caching Details<a class="anchor" aria-label="anchor" href="#caching-details"></a>
</h3>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Internal caching structure (conceptual)</span></span>
<span><span class="co"># private$.processedData: Cached cleaned data with factor conversion</span></span>
<span><span class="co"># private$.processedOptions: Cached option processing including titles</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># Benefits:</span></span>
<span><span class="co"># - Eliminates redundant factor conversion calls</span></span>
<span><span class="co"># - Avoids repeated jmvcore::naOmit() operations</span></span>
<span><span class="co"># - Shares processed data across plot variations</span></span>
<span><span class="co"># - Optimizes complex conditional logic processing</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="dependencies">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies"></a>
</h3>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Required packages:</span></span>
<span><span class="co"># - ggplot2: Core plotting</span></span>
<span><span class="co"># - ggalluvial: Alluvial-specific geometries</span></span>
<span><span class="co"># - dplyr: Data manipulation (group_by, summarize)</span></span>
<span><span class="co"># - jmvcore: jamovi core functionality</span></span>
<span><span class="co"># - R6: Object-oriented programming</span></span>
<span><span class="co"># - rlang: Non-standard evaluation</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="clinical-applications">Clinical Applications<a class="anchor" aria-label="anchor" href="#clinical-applications"></a>
</h2>
<div class="section level3">
<h3 id="research-scenarios">Research Scenarios<a class="anchor" aria-label="anchor" href="#research-scenarios"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<strong>Clinical Trials</strong>: Track patient responses across
treatment periods</li>
<li>
<strong>Quality Improvement</strong>: Monitor care pathway
adherence</li>
<li>
<strong>Cost Analysis</strong>: Visualize resource utilization
flows</li>
<li>
<strong>Epidemiology</strong>: Study disease progression
patterns</li>
<li>
<strong>Health Services</strong>: Analyze patient flow through care
systems</li>
</ol>
</div>
<div class="section level3">
<h3 id="publication-guidelines">Publication Guidelines<a class="anchor" aria-label="anchor" href="#publication-guidelines"></a>
</h3>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># For scientific publications:</span></span>
<span><span class="co"># - Use clear, descriptive titles and axis labels</span></span>
<span><span class="co"># - Include sample sizes in figure captions</span></span>
<span><span class="co"># - Choose colorblind-friendly fill patterns</span></span>
<span><span class="co"># - Provide detailed methodology in methods section</span></span>
<span><span class="co"># - Consider grayscale compatibility for print journals</span></span>
<span></span>
<span><span class="co"># Example publication-ready plot:</span></span>
<span><span class="va">publication_plot</span> <span class="op">&lt;-</span> <span class="fu">jjriverplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">clinical_data</span>,</span>
<span>  time <span class="op">=</span> <span class="st">"study_timepoint"</span>,</span>
<span>  strata <span class="op">=</span> <span class="st">"response_category"</span>,</span>
<span>  weight <span class="op">=</span> <span class="st">"patient_count"</span>,</span>
<span>  plotType <span class="op">=</span> <span class="st">"alluvial"</span>,</span>
<span>  fillType <span class="op">=</span> <span class="st">"first"</span>,</span>
<span>  labelNodes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  showLegend <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  mytitle <span class="op">=</span> <span class="st">"Patient Response Trajectories (N = 600)"</span>,</span>
<span>  xtitle <span class="op">=</span> <span class="st">"Study Timepoint"</span>,</span>
<span>  ytitle <span class="op">=</span> <span class="st">"Number of Patients"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h2>
<div class="section level3">
<h3 id="common-issues">Common Issues<a class="anchor" aria-label="anchor" href="#common-issues"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<strong>“Data contains no (complete) rows”</strong>
<ul>
<li>Check for missing values in required variables</li>
<li>Ensure factor variables have valid levels</li>
<li>Verify data filtering hasn’t excluded all observations</li>
</ul>
</li>
<li>
<strong>Empty or unexpected flows</strong>
<ul>
<li>Check factor level definitions and ordering</li>
<li>Verify time variable is properly formatted</li>
<li>Ensure categories exist at multiple time points</li>
</ul>
</li>
<li>
<strong>Overlapping labels</strong>
<ul>
<li>Reduce number of categories through grouping</li>
<li>Disable labels (labelNodes = FALSE) for complex plots</li>
<li>Consider using counts instead of labels</li>
</ul>
</li>
<li>
<strong>Poor flow visibility</strong>
<ul>
<li>Adjust plot size settings</li>
<li>Use weight variable to emphasize important flows</li>
<li>Consider filtering to show only major pathways</li>
</ul>
</li>
</ol>
</div>
<div class="section level3">
<h3 id="error-handling">Error Handling<a class="anchor" aria-label="anchor" href="#error-handling"></a>
</h3>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example error handling</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">jjriverplot</span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">my_data</span>,</span>
<span>    time <span class="op">=</span> <span class="st">"time_var"</span>,</span>
<span>    strata <span class="op">=</span> <span class="st">"category_var"</span>,</span>
<span>    plotType <span class="op">=</span> <span class="st">"alluvial"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span>, error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Error in river plot: "</span>, <span class="va">e</span><span class="op">$</span><span class="va">message</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Check your data structure and variable types"</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Diagnostic information</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Data structure:\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">my_data</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nTime variable levels:\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">my_data</span><span class="op">$</span><span class="va">time_var</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nCategory variable levels:\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">my_data</span><span class="op">$</span><span class="va">category_var</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="performance-considerations">Performance Considerations<a class="anchor" aria-label="anchor" href="#performance-considerations"></a>
</h3>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># For large datasets:</span></span>
<span><span class="co"># - Consider sampling for initial exploration</span></span>
<span><span class="co"># - Group rare categories to reduce complexity</span></span>
<span><span class="co"># - Use weight variables to highlight important flows</span></span>
<span><span class="co"># - Monitor memory usage with very wide datasets</span></span>
<span></span>
<span><span class="co"># Optimal performance tips:</span></span>
<span><span class="co"># - Ensure categorical variables are factors</span></span>
<span><span class="co"># - Use meaningful factor level ordering</span></span>
<span><span class="co"># - Remove unnecessary columns from data</span></span>
<span><span class="co"># - Balance detail with readability</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="interpretation-guidelines">Interpretation Guidelines<a class="anchor" aria-label="anchor" href="#interpretation-guidelines"></a>
</h2>
<div class="section level3">
<h3 id="what-river-plots-reveal">What River Plots Reveal<a class="anchor" aria-label="anchor" href="#what-river-plots-reveal"></a>
</h3>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># River plots effectively show:</span></span>
<span><span class="co"># 1. Transition patterns: How categories change over time</span></span>
<span><span class="co"># 2. Flow volumes: Relative sizes of different pathways</span></span>
<span><span class="co"># 3. Stability: Which categories remain constant</span></span>
<span><span class="co"># 4. Convergence: Multiple paths leading to same outcome</span></span>
<span><span class="co"># 5. Divergence: Single starting points leading to multiple outcomes</span></span>
<span></span>
<span><span class="co"># Key interpretation elements:</span></span>
<span><span class="co"># - Stream width = quantity/frequency</span></span>
<span><span class="co"># - Stream color = category grouping (based on fillType)</span></span>
<span><span class="co"># - Node height = total volume at that stage</span></span>
<span><span class="co"># - Flow crossings = category transitions</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="common-patterns">Common Patterns<a class="anchor" aria-label="anchor" href="#common-patterns"></a>
</h3>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Clinical research patterns:</span></span>
<span></span>
<span><span class="co"># Treatment response progression:</span></span>
<span><span class="co"># - Stable flows: Consistent responders</span></span>
<span><span class="co"># - Improving flows: Treatment success</span></span>
<span><span class="co"># - Declining flows: Treatment failure</span></span>
<span><span class="co"># - Complex flows: Mixed responses</span></span>
<span></span>
<span><span class="co"># Patient journey analysis:</span></span>
<span><span class="co"># - Funnel patterns: Progressive selection</span></span>
<span><span class="co"># - Retention patterns: Stable participation</span></span>
<span><span class="co"># - Dropout patterns: Loss to follow-up</span></span>
<span><span class="co"># - Recovery patterns: Improvement over time</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="comparison-with-other-visualizations">Comparison with Other Visualizations<a class="anchor" aria-label="anchor" href="#comparison-with-other-visualizations"></a>
</h2>
<div class="section level3">
<h3 id="when-to-use-river-plots-vs-alternatives">When to Use River Plots vs Alternatives<a class="anchor" aria-label="anchor" href="#when-to-use-river-plots-vs-alternatives"></a>
</h3>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use river plots when:</span></span>
<span><span class="co"># - Tracking categorical changes over time</span></span>
<span><span class="co"># - Showing flow volumes and transitions</span></span>
<span><span class="co"># - Multiple pathways need visualization</span></span>
<span><span class="co"># - Process or journey analysis required</span></span>
<span></span>
<span><span class="co"># Use line plots when:</span></span>
<span><span class="co"># - Continuous variables over time</span></span>
<span><span class="co"># - Trends and patterns are focus</span></span>
<span><span class="co"># - Statistical relationships important</span></span>
<span><span class="co"># - Precise values needed</span></span>
<span></span>
<span><span class="co"># Use bar charts when:</span></span>
<span><span class="co"># - Single time point comparisons</span></span>
<span><span class="co"># - Exact values are important</span></span>
<span><span class="co"># - Categories don't flow/transition</span></span>
<span><span class="co"># - Simple frequency distributions</span></span>
<span></span>
<span><span class="co"># Use heatmaps when:</span></span>
<span><span class="co"># - Showing correlation patterns</span></span>
<span><span class="co"># - Matrix-style data relationships</span></span>
<span><span class="co"># - Intensity rather than flow important</span></span>
<span><span class="co"># - Compact representation needed</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The optimized <code>jjriverplot</code> function provides:</p>
<ul>
<li>
<strong>Comprehensive flow visualization</strong>: Multiple plot
types for different analytical needs</li>
<li>
<strong>High performance</strong>: Significant speed improvements
through caching</li>
<li>
<strong>Clinical relevance</strong>: Designed for healthcare pathway
and outcome analysis<br>
</li>
<li>
<strong>Flexibility</strong>: Extensive customization options for
publication and presentation</li>
<li>
<strong>Usability</strong>: Clear documentation and comprehensive
examples</li>
</ul>
<p>River plots excel at revealing transition patterns, pathway volumes,
and flow dynamics that traditional static visualizations cannot capture.
They are particularly valuable in clinical research for tracking patient
journeys, treatment responses, and outcome progressions over time.</p>
<p>The function is well-suited for longitudinal studies, quality
improvement initiatives, clinical trial analysis, and any scenario
requiring visualization of categorical transitions and flows between
defined stages or time points.</p>
</div>
<div class="section level2">
<h2 id="session-information">Session Information<a class="anchor" aria-label="anchor" href="#session-information"></a>
</h2>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## R version 4.5.1 (2025-06-13)</span></span>
<span><span class="co">## Platform: aarch64-apple-darwin20</span></span>
<span><span class="co">## Running under: macOS Tahoe 26.0.1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRblas.0.dylib </span></span>
<span><span class="co">## LAPACK: /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## time zone: Europe/Istanbul</span></span>
<span><span class="co">## tzcode source: internal</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##  [1] digest_0.6.37     desc_1.4.3        R6_2.6.1          fastmap_1.2.0    </span></span>
<span><span class="co">##  [5] xfun_0.53         cachem_1.1.0      knitr_1.50        htmltools_0.5.8.1</span></span>
<span><span class="co">##  [9] rmarkdown_2.29    lifecycle_1.0.4   cli_3.6.5         sass_0.4.10      </span></span>
<span><span class="co">## [13] pkgdown_2.1.3     textshaping_1.0.3 jquerylib_0.1.4   systemfonts_1.3.1</span></span>
<span><span class="co">## [17] compiler_4.5.1    tools_4.5.1       ragg_1.5.0        bslib_0.9.0      </span></span>
<span><span class="co">## [21] evaluate_1.0.5    yaml_2.3.10       jsonlite_2.0.0    rlang_1.1.6      </span></span>
<span><span class="co">## [25] fs_1.6.6          htmlwidgets_1.6.4</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Serdar Balci.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
