---
name:  jjcorrmat
title: Correlation Matrix
menuGroup: JJStatsPlot
menuSubgroup: Continuous vs Continuous
# menuSubtitle: Correlation Matrix
version: '1.0.0'
jas: '1.2'



description:
    # main: |
    #     'Wrapper Function for ggstatsplot::ggcorrmat and
    #     ggstatsplot::grouped_ggcorrmat to generate Correlation Matrix.'
    R:
        dontrun: true
        usage: |
            # example will be added

options:
    - name: data
      type: Data
      description:
          R: >
            The data as a data frame.


    - name: dep
      title: Dependent Variables
      type: Variables
      suggested: [ continuous ]
      permitted: [ numeric ]

    - name: grvar
      title: 'Split By (Optional)'
      type: Variable
      suggested: [ ordinal, nominal ]
      permitted: [ factor ]


    # - name: direction
    #   title: 'Measurement Type'
    #   type: List
    #   options:
    #     - title: Repeated (within groups)
    #       name: repeated
    #     - title: Independent (between groups)
    #       name: independent
    #   default: independent
    #   description:
    #       ui: options for measurement type
    #       R: select measurement type (repeated or independent)


    - name: excl
      title: Exclude Missing (NA)
      type: Bool
      default: false



    - name: typestatistics
      title: 'Type of Statistic'
      type: List
      options:
        - title: Parametric
          name: parametric
        - title: Nonparametric
          name: nonparametric
        - title: Robust
          name: robust
        - title: Bayes
          name: bayes
      default: parametric


    - name: pairwisecomparisons
      title: Pairwise Comparisons
      type: Bool
      default: true

    - name: pairwisedisplay
      title: 'Pairwise Display'
      type: List
      options:
        - title: significant
          name: significant
        - title: non-significant
          name: non-significant
        - title: everything
          name: everything
      default: significant

    - name: padjustmethod
      title: 'Adjustment Method'
      type: List
      options:
        - title: holm
          name: holm
        - title: hochberg
          name: hochberg
        - title: hommel
          name: hommel
        - title: bonferroni
          name: bonferroni
        - title: BH
          name: BH
        - title: BY
          name: BY
        - title: fdr
          name: fdr
        - title: none
          name: none
      default: holm



    - name: plottype
      title: 'Plot Type'
      type: List
      options:
        - title: box
          name: box
        - title: violin
          name: violin
        - title: boxviolin
          name: boxviolin
      default: boxviolin




    - name: originaltheme
      title: Add GGStatsPlot Layer
      type: Bool
      default: false





...

#
# ggcorrmat(
#   data,
#   cor.vars = NULL,
#   cor.vars.names = NULL,
#   output = "plot",
#   matrix.type = "full",
#   matrix.method = "square",
#   type = "parametric",
#   beta = 0.1,
#   k = 2L,
#   sig.level = 0.05,
#   conf.level = 0.95,
#   bf.prior = 0.707,
#   p.adjust.method = "none",
#   pch = "cross",
#   ggcorrplot.args = list(outline.color = "black"),
#   package = "RColorBrewer",
#   palette = "Dark2",
#   colors = c("#E69F00", "white", "#009E73"),
#   ggtheme = ggplot2::theme_bw(),
#   ggstatsplot.layer = TRUE,
#   ggplot.component = NULL,
#   title = NULL,
#   subtitle = NULL,
#   caption = NULL,
#   ...
# )
# Arguments
# data
# Dataframe from which variables specified are preferentially to be taken.
#
# cor.vars
# List of variables for which the correlation matrix is to be computed and visualized. If NULL (default), all numeric variables from data will be used.
#
# cor.vars.names
# Optional list of names to be used for cor.vars. The names should be entered in the same order.
#
# output
# Character that decides expected output from this function. If "plot", the visualization matrix will be returned. If "dataframe" (or literally anything other than "plot"), a dataframe containing all details from statistical analyses (e.g., correlation coefficients, statistic values, p-values, no. of observations, etc.) will be returned.
#
# matrix.type
# Character, "full" (default), "upper" or "lower", display full matrix, lower triangular or upper triangular matrix.
#
# matrix.method
# The visualization method of correlation matrix to be used. Allowed values are "square" (default) or "circle".
#
# type
# Type of association between paired samples required (""parametric": Pearson's product moment correlation coefficient" or ""nonparametric": Spearman's rho" or ""robust": percentage bend correlation coefficient" or ""bayes": Bayes Factor for Pearson's r"). Corresponding abbreviations are also accepted: "p" (for parametric/pearson), "np" (nonparametric/spearman), "r" (robust), "bf" (for bayes factor), resp.
#
# beta
# bending constant (Default: 0.1). For more, see WRS2::pbcor().
#
# k
# Number of digits after decimal point (should be an integer) (Default: k = 2L).
#
# sig.level
# Significance level (Default: 0.05). If the p-value in p-value matrix is bigger than sig.level, then the corresponding correlation coefficient is regarded as insignificant and flagged as such in the plot. Relevant only when output = "plot".
#
# conf.level
# Scalar between 0 and 1. If unspecified, the defaults return 95% confidence/credible intervals (0.95).
#
# bf.prior
# A number between 0.5 and 2 (default 0.707), the prior width to use in calculating Bayes factors.
#
# p.adjust.method
# What adjustment for multiple tests should be used? ("holm", "hochberg", "hommel", "bonferroni", "BH", "BY", "fdr", "none"). See stats::p.adjust for details about why to use "holm" rather than "bonferroni"). Default is "none". If adjusted p-values are displayed in the visualization of correlation matrix, the adjusted p-values will be used for the upper triangle, while unadjusted p-values will be used for the lower triangle of the matrix.
#
# pch
# Decides the point shape to be used for insignificant correlation coefficients (only valid when insig = "pch"). Default: pch = "cross".
#
# ggcorrplot.args
# A list of additional (mostly aesthetic) arguments that will be passed to ggcorrplot::ggcorrplot function. The list should avoid any of the following arguments since they are already internally being used by ggstatsplot: corr, method, p.mat, sig.level, ggtheme, colors, matrix.type, lab, pch, legend.title, digits.
#
# package
# Name of the package from which the given palette is to be extracted. The available palettes and packages can be checked by running View(paletteer::palettes_d_names).
#
# palette
# Name of the package from which the given palette is to be extracted. The available palettes and packages can be checked by running View(paletteer::palettes_d_names).
#
# colors
# A vector of 3 colors for low, mid, and high correlation values. If set to NULL, manual specification of colors will be turned off and 3 colors from the specified palette from package will be selected.
#
# ggtheme
# A function, ggplot2 theme name. Default value is ggplot2::theme_bw(). Any of the ggplot2 themes, or themes from extension packages are allowed (e.g., ggthemes::theme_fivethirtyeight(), hrbrthemes::theme_ipsum_ps(), etc.).
#
# ggstatsplot.layer
# Logical that decides whether theme_ggstatsplot theme elements are to be displayed along with the selected ggtheme (Default: TRUE). theme_ggstatsplot is an opinionated theme layer that override some aspects of the selected ggtheme.
#
# ggplot.component
# A ggplot component to be added to the plot prepared by ggstatsplot. This argument is primarily helpful for grouped_ variant of the current function. Default is NULL. The argument should be entered as a function.
#
# title
# The text for the plot title.
#
# subtitle
# The text for the plot subtitle. Will work only if results.subtitle = FALSE.
#
# caption
# The text for the plot caption.
#
#
# grouped_ggcorrmat(
#   data,
#   cor.vars = NULL,
#   cor.vars.names = NULL,
#   grouping.var,
#   title.prefix = NULL,
#   output = "plot",
#   ...,
#   plotgrid.args = list(),
#   title.text = NULL,
#   title.args = list(size = 16, fontface = "bold"),
#   caption.text = NULL,
#   caption.args = list(size = 10),
#   sub.text = NULL,
#   sub.args = list(size = 12)
# )
# Arguments
# data
# Dataframe from which variables specified are preferentially to be taken.
#
# cor.vars
# List of variables for which the correlation matrix is to be computed and visualized. If NULL (default), all numeric variables from data will be used.
#
# cor.vars.names
# Optional list of names to be used for cor.vars. The names should be entered in the same order.
#
# grouping.var
# A single grouping variable (can be entered either as a bare name x or as a string "x").
#
# title.prefix
# Character string specifying the prefix text for the fixed plot title (name of each factor level) (Default: NULL). If NULL, the variable name entered for grouping.var will be used.
#
# output
# Character that decides expected output from this function. If "plot", the visualization matrix will be returned. If "dataframe" (or literally anything other than "plot"), a dataframe containing all details from statistical analyses (e.g., correlation coefficients, statistic values, p-values, no. of observations, etc.) will be returned.
#
# ...
# Arguments passed on to ggcorrmat
#
# matrix.type
# Character, "full" (default), "upper" or "lower", display full matrix, lower triangular or upper triangular matrix.
#
# matrix.method
# The visualization method of correlation matrix to be used. Allowed values are "square" (default) or "circle".
#
# sig.level
# Significance level (Default: 0.05). If the p-value in p-value matrix is bigger than sig.level, then the corresponding correlation coefficient is regarded as insignificant and flagged as such in the plot. Relevant only when output = "plot".
#
# p.adjust.method
# What adjustment for multiple tests should be used? ("holm", "hochberg", "hommel", "bonferroni", "BH", "BY", "fdr", "none"). See stats::p.adjust for details about why to use "holm" rather than "bonferroni"). Default is "none". If adjusted p-values are displayed in the visualization of correlation matrix, the adjusted p-values will be used for the upper triangle, while unadjusted p-values will be used for the lower triangle of the matrix.
#
# colors
# A vector of 3 colors for low, mid, and high correlation values. If set to NULL, manual specification of colors will be turned off and 3 colors from the specified palette from package will be selected.
#
# pch
# Decides the point shape to be used for insignificant correlation coefficients (only valid when insig = "pch"). Default: pch = "cross".
#
# ggcorrplot.args
# A list of additional (mostly aesthetic) arguments that will be passed to ggcorrplot::ggcorrplot function. The list should avoid any of the following arguments since they are already internally being used by ggstatsplot: corr, method, p.mat, sig.level, ggtheme, colors, matrix.type, lab, pch, legend.title, digits.
#
# type
# Type of association between paired samples required (""parametric": Pearson's product moment correlation coefficient" or ""nonparametric": Spearman's rho" or ""robust": percentage bend correlation coefficient" or ""bayes": Bayes Factor for Pearson's r"). Corresponding abbreviations are also accepted: "p" (for parametric/pearson), "np" (nonparametric/spearman), "r" (robust), "bf" (for bayes factor), resp.
#
# beta
# bending constant (Default: 0.1). For more, see WRS2::pbcor().
#
# k
# Number of digits after decimal point (should be an integer) (Default: k = 2L).
#
# conf.level
# Scalar between 0 and 1. If unspecified, the defaults return 95% confidence/credible intervals (0.95).
#
# bf.prior
# A number between 0.5 and 2 (default 0.707), the prior width to use in calculating Bayes factors.
#
# package
# Name of the package from which the given palette is to be extracted. The available palettes and packages can be checked by running View(paletteer::palettes_d_names).
#
# palette
# Name of the package from which the given palette is to be extracted. The available palettes and packages can be checked by running View(paletteer::palettes_d_names).
#
# ggtheme
# A function, ggplot2 theme name. Default value is ggplot2::theme_bw(). Any of the ggplot2 themes, or themes from extension packages are allowed (e.g., ggthemes::theme_fivethirtyeight(), hrbrthemes::theme_ipsum_ps(), etc.).
#
# ggstatsplot.layer
# Logical that decides whether theme_ggstatsplot theme elements are to be displayed along with the selected ggtheme (Default: TRUE). theme_ggstatsplot is an opinionated theme layer that override some aspects of the selected ggtheme.
#
# ggplot.component
# A ggplot component to be added to the plot prepared by ggstatsplot. This argument is primarily helpful for grouped_ variant of the current function. Default is NULL. The argument should be entered as a function.
#
# subtitle
# The text for the plot subtitle. Will work only if results.subtitle = FALSE.
#
# caption
# The text for the plot caption.
#
# plotgrid.args
# A list of additional arguments to cowplot::plot_grid.
#
# title.text
# String or plotmath expression to be drawn as title for the combined plot.
#
# title.args
# A list of additional arguments provided to title, caption and sub, resp.
#
# caption.text
# String or plotmath expression to be drawn as the caption for the combined plot.
#
# caption.args
# A list of additional arguments provided to title, caption and sub, resp.
#
# sub.text
# The label with which the combined plot should be annotated. Can be a plotmath expression.
#
# sub.args
# A list of additional arguments provided to title, caption and sub, resp.
#
